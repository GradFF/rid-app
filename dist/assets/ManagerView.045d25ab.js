import{u as R,a as S,r as i,o as N,b as f,d as q,e as o,f as a,m as r,h,w as x,g as e,t as n,j as m,v as D,F as _,l as y,k as U,n as j,p as g,q as B,s as k,K as E}from"./index.95ddf099.js";import{s as F,_ as L}from"./Alert.5be4f3b0.js";const z={key:0,class:"h-screen flex items-center justify-center"},I=e("h1",{class:"text-2xl"},"Carregando ...",-1),T=[I],A={key:1,class:"max-w-screen-sm mx-auto px-4 py-12"},G={class:"flex items-start justify-between"},J={class:"mb-6"},K={class:"text-3xl font-bold"},P=["href"],$=["onSubmit"],H={key:0,class:"form-control mb-4"},O=e("label",{class:"label"},[e("span",{class:"label-text"},"Coordenador")],-1),Q=e("option",{disabled:"",selected:""},"Selecione o curso",-1),W={key:1,class:"p-2 mb-4 border border-base-300 rounded-md"},X=e("legend",{class:"text-content text-sm font-semibold px-2 uppercase"}," Parecer ",-1),Y={key:0,class:"label cursor-pointer"},Z=["value"],ee={class:"form-control mb-4"},te={class:"form-control px-2"},se={class:"label cursor-pointer"},oe=e("span",{class:"label-text"},"Efetivado no SIGA",-1),ae={class:"form-control pt-4"},ue={__name:"ManagerView",setup(le){const w=R(),p=S(),t=i({}),u=i(null),b=i(null),v=i(!1),d=i(!1);N(async()=>{d.value=!0;try{u.value=await F.find(),p.params.id?t.value=await f.find(p.params.id):console.log("Not found")}catch(c){console.log(c)}finally{d.value=!1}});const V=async()=>{v.value=!0;try{await f.update(t.value,p.params.id),w.replace({name:"admin"})}catch(c){console.log(c)}finally{v.value=!1}};return(c,l)=>{const C=q("RouterLink");return o(),a(_,null,[d.value?(o(),a("div",z,T)):r("",!0),d.value?r("",!0):(o(),a("div",A,[h(L,{show:b.value!=null,type:"error",class:"mt-6 mb-2"},{default:x(()=>[k(n(b.value),1)]),_:1},8,["show"]),e("div",G,[e("div",J,[e("h1",K,n(t.value.name),1),e("p",null,"DRE: "+n(t.value.register),1),e("p",null,"Curso: "+n(t.value.course),1),t.value.url?(o(),a("a",{key:0,href:t.value.url,class:"btn btn-link",target:"_blank",rel:"noopener noreferrer"},"Visualizar CRID",8,P)):r("",!0)]),h(C,{to:{name:"admin"},class:"btn btn-ghost"},{default:x(()=>[k(" Voltar ")]),_:1})]),e("form",{onSubmit:B(V,["prevent"])},[u.value?(o(),a("div",H,[O,m(e("select",{class:"select select-bordered","onUpdate:modelValue":l[0]||(l[0]=s=>t.value.responsible=s),required:""},[Q,(o(!0),a(_,null,y(u.value.teachers,s=>(o(),a("option",{key:s.name},n(s.name),1))),128))],512),[[D,t.value.responsible]])])):r("",!0),u.value?(o(),a("fieldset",W,[X,(o(!0),a(_,null,y(u.value.status,s=>(o(),a("div",{class:"form-control",key:s.title},[s.show?(o(),a("label",Y,[e("span",{class:g(["label-text",s.title==t.value.status?"text-primary font-medium text-lg":""])},n(s.title),3),m(e("input",{type:"radio",class:"radio","onUpdate:modelValue":l[1]||(l[1]=M=>t.value.status=M),value:s.title},null,8,Z),[[E,t.value.status]])])):r("",!0)]))),128))])):r("",!0),e("div",ee,[m(e("textarea",{class:"textarea textarea-bordered textarea-sm w-full",placeholder:"Jusquifique o parecer","onUpdate:modelValue":l[2]||(l[2]=s=>t.value.opinio=s)},null,512),[[U,t.value.opinio]])]),e("div",te,[e("label",se,[oe,m(e("input",{type:"checkbox",class:"checkbox","onUpdate:modelValue":l[3]||(l[3]=s=>t.value.provided=s)},null,512),[[j,t.value.provided]])])]),e("div",ae,[e("button",{type:"submit",class:g(["btn btn-primary",v.value&&"loading"])}," Confirmar ",2)])],40,$)]))],64)}}};export{ue as default};
