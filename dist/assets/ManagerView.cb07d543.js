import{u as C,a as V,r as c,o as R,b as x,c as M,d as o,e as a,h as r,f as e,t as u,g as N,w as S,F as b,k as y,i as p,j as D,l as U,n as f,m as j,p as B,J as g}from"./index.f8b31360.js";import{s as E}from"./settings.f62b31a1.js";const F={key:0,class:"h-screen flex items-center justify-center"},L=e("h1",{class:"text-2xl"},"Carregando ...",-1),q=[L],z={key:1,class:"max-w-screen-sm mx-auto px-4 py-12"},I={class:"flex items-start justify-between"},J={class:"mb-6"},T={class:"text-3xl font-bold"},A=["href"],G=["onSubmit"],P={key:0,class:"p-2 mb-4 border border-base-300 rounded-md"},H=e("legend",{class:"text-content text-sm font-semibold px-2 uppercase"}," Coordenador Respons\xE1vel ",-1),K={key:0,class:"label cursor-pointer"},O=["value"],Q={key:1,class:"p-2 mb-4 border border-base-300 rounded-md"},W=e("legend",{class:"text-content text-sm font-semibold px-2 uppercase"}," Parecer ",-1),X={key:0,class:"label cursor-pointer"},Y=["value"],Z={class:"form-control mb-4"},$={class:"form-control px-2"},ee={class:"label cursor-pointer"},te=e("span",{class:"label-text"},"Efetivado no SIGA",-1),se={class:"form-control pt-4"},re={__name:"ManagerView",setup(oe){const k=C(),m=V(),t=c({}),n=c(null),v=c(!1),i=c(!1);R(async()=>{i.value=!0;try{n.value=await E.find(),m.params.id?t.value=await x.find(m.params.id):console.log("Not found")}catch(d){console.log(d)}finally{i.value=!1}});const h=async()=>{v.value=!0;try{await x.update(t.value,m.params.id),k.replace({name:"admin"})}catch(d){console.log(d)}finally{v.value=!1}};return(d,l)=>{const w=M("RouterLink");return o(),a(b,null,[i.value?(o(),a("div",F,q)):r("",!0),i.value?r("",!0):(o(),a("div",z,[e("div",I,[e("div",J,[e("h1",T,u(t.value.name),1),e("p",null,"DRE: "+u(t.value.register),1),e("p",null,"Curso: "+u(t.value.course),1),t.value.url?(o(),a("a",{key:0,href:t.value.url,class:"btn btn-link",target:"_blank",rel:"noopener noreferrer"},"Visualizar CRID",8,A)):r("",!0)]),N(w,{to:{name:"admin"},class:"btn btn-ghost"},{default:S(()=>[B(" Voltar ")]),_:1})]),e("form",{onSubmit:j(h,["prevent"])},[n.value?(o(),a("fieldset",P,[H,(o(!0),a(b,null,y(n.value.teachers,s=>(o(),a("div",{class:"form-control",key:s.name},[s.show?(o(),a("label",K,[e("span",{class:f(["label-text",s.name==t.value.responsible?"text-primary font-medium text-lg":""])},u(s.name),3),p(e("input",{type:"radio",class:"radio","onUpdate:modelValue":l[0]||(l[0]=_=>t.value.responsible=_),value:s.name},null,8,O),[[g,t.value.responsible]])])):r("",!0)]))),128))])):r("",!0),n.value?(o(),a("fieldset",Q,[W,(o(!0),a(b,null,y(n.value.status,s=>(o(),a("div",{class:"form-control",key:s.title},[s.show?(o(),a("label",X,[e("span",{class:f(["label-text",s.title==t.value.status?"text-primary font-medium text-lg":""])},u(s.title),3),p(e("input",{type:"radio",class:"radio","onUpdate:modelValue":l[1]||(l[1]=_=>t.value.status=_),value:s.title},null,8,Y),[[g,t.value.status]])])):r("",!0)]))),128))])):r("",!0),e("div",Z,[p(e("textarea",{class:"textarea textarea-bordered textarea-sm w-full",placeholder:"Jusquifique o parecer","onUpdate:modelValue":l[2]||(l[2]=s=>t.value.opinio=s)},null,512),[[D,t.value.opinio]])]),e("div",$,[e("label",ee,[te,p(e("input",{type:"checkbox",class:"checkbox","onUpdate:modelValue":l[3]||(l[3]=s=>t.value.provided=s)},null,512),[[U,t.value.provided]])])]),e("div",se,[e("button",{type:"submit",onClick:h,class:f(["btn btn-primary",v.value&&"loading"])}," Confirmar ",2)])],40,G)]))],64)}}};export{re as default};
