import{u as w,a as V,r as m,o as C,b as f,c as R,d as a,e as o,f as e,t as r,h as u,g as M,w as N,F as x,k as h,i,j as S,l as D,n as v,m as U,p as B,J as y}from"./index.c058e08c.js";import{s as E}from"./settings.89a48981.js";const L={class:"max-w-screen-sm mx-auto px-4 py-12"},j={class:"flex items-start justify-between"},q={class:"mb-6"},z={class:"text-3xl font-bold"},F=["href"],I=["onSubmit"],J={key:0,class:"p-2 mb-4 border border-base-300 rounded-md"},T=e("legend",{class:"text-content text-sm font-semibold px-2 uppercase"}," Coordenador Respons\xE1vel ",-1),A={key:0,class:"label cursor-pointer"},G=["value"],P={key:1,class:"p-2 mb-4 border border-base-300 rounded-md"},H=e("legend",{class:"text-content text-sm font-semibold px-2 uppercase"}," Parecer ",-1),K={key:0,class:"label cursor-pointer"},O=["value"],Q={class:"form-control mb-4"},W={class:"form-control px-2"},X={class:"label cursor-pointer"},Y=e("span",{class:"label-text"},"Efetivado no SIGA",-1),Z={class:"form-control pt-4"},se={__name:"ManagerView",setup($){const k=w(),d=V(),t=m({}),n=m(null),c=m(!1);C(async()=>{n.value=await E.find(),d.params.id?t.value=await f.find(d.params.id):console.log("Not found")});const b=async()=>{c.value=!0;try{await f.update(t.value,d.params.id),k.replace({name:"admin"})}catch(_){console.log(_)}finally{c.value=!1}};return(_,l)=>{const g=R("RouterLink");return a(),o("div",L,[e("div",j,[e("div",q,[e("h1",z,r(t.value.name),1),e("p",null,"DRE: "+r(t.value.register),1),e("p",null,"Curso: "+r(t.value.course),1),t.value.url?(a(),o("a",{key:0,href:t.value.url,class:"btn btn-link",target:"_blank",rel:"noopener noreferrer"},"Visualizar CRID",8,F)):u("",!0)]),M(g,{to:{name:"admin"},class:"btn btn-ghost"},{default:N(()=>[B(" Voltar ")]),_:1})]),e("form",{onSubmit:U(b,["prevent"])},[n.value?(a(),o("fieldset",J,[T,(a(!0),o(x,null,h(n.value.teachers,s=>(a(),o("div",{class:"form-control",key:s.name},[s.show?(a(),o("label",A,[e("span",{class:v(["label-text",s.name==t.value.responsible?"text-primary font-medium text-lg":""])},r(s.name),3),i(e("input",{type:"radio",class:"radio","onUpdate:modelValue":l[0]||(l[0]=p=>t.value.responsible=p),value:s.name},null,8,G),[[y,t.value.responsible]])])):u("",!0)]))),128))])):u("",!0),n.value?(a(),o("fieldset",P,[H,(a(!0),o(x,null,h(n.value.status,s=>(a(),o("div",{class:"form-control",key:s.title},[s.show?(a(),o("label",K,[e("span",{class:v(["label-text",s.title==t.value.status?"text-primary font-medium text-lg":""])},r(s.title),3),i(e("input",{type:"radio",class:"radio","onUpdate:modelValue":l[1]||(l[1]=p=>t.value.status=p),value:s.title},null,8,O),[[y,t.value.status]])])):u("",!0)]))),128))])):u("",!0),e("div",Q,[i(e("textarea",{class:"textarea textarea-bordered textarea-sm w-full",placeholder:"Jusquifique o parecer","onUpdate:modelValue":l[2]||(l[2]=s=>t.value.opinio=s)},null,512),[[S,t.value.opinio]])]),e("div",W,[e("label",X,[Y,i(e("input",{type:"checkbox",class:"checkbox","onUpdate:modelValue":l[3]||(l[3]=s=>t.value.provided=s)},null,512),[[D,t.value.provided]])])]),e("div",Z,[e("button",{type:"submit",onClick:b,class:v(["btn btn-primary",c.value&&"loading"])}," Confirmar ",2)])],40,I)])}}};export{se as default};
